## 107.1 Users Management
__weight 5__


### useradd
- cria um novo usuário cujo nome for fornecido na sequência;
- 'id username' e 'groups username' permitem alterar a senha, ver UID e GID, e ver o grupo do novo usuário;
- __opções:__
	- '-c' cria uma nova conta com comentários personalizados;
	- '-d' com diretório pessoal personalizado;
	- '-e' permite definir uma data de expiração da nova conta, quando ela será desabilitada;
	- '-f' define o número de dias até a expiração de uma senha, que deverá ser atualizada ou a conta será desabilitada;
	- '-g' permite especificar GID do grupo primário;
	- '-G' adiciona a grupos secundários separados por vírgulas;
	- '-k' permite especificar um diretório 'skel' personalizado, usada apenas combinada à '-m';
	- '-m' cria um diretório pessoal a partir do 'skel' padrão;
	- '-M' sem diretório inicial;
	- '-s' com um shell de login específico;
	- '-u' permite especificar UID.

### passwd
- permite configurar senha do usuário fornecido a seguir;
- no caso de um novo usuário, recomenda-se a sintexe: ```# passwd -e username```;
- a opção '-e' expira a nova senha, forçando o novo usuário criar uma nova no próximo login.
__opções gerais:__
	- '-d' apaga a senha de um usuário, desabilitando a conta;
	- '-e' força a alteração da senha;
	- '-i' define dias de inatividade após a expiração de uma senha, para que ela seja atualizada antes de uma desativação;
	- '-l' bloqueia a conta; uma exclamação é inserida antes da senha criptografada no arquivo '/etc/shadow', desabilitando o acesso do usuário;
	- '-n' define um tempo de vida mínimo para a senha;
	- '-S' retorna o status da senha;
	- '-u' desbloqueia a conta; remove a exclamação em '/etc/shadow', reabilitando o usuário;
	- '-x' define um tempo de vida máximo para a senha;
	- '-w' define número de dias de aviso antes que uma senha expire.

### usermod
- permite modificar atributos de um usuário fornecido na sequência;
- __opções:__
	- '-c' adiciona comentários personalizados;
	- '-d' altera o diretório; combinada à '-m', move o que estiver no diretório pessoal atual para o novo diretório pessoal;
	- '-e' altera data de expiração;
	- '-f' altera a expiração da senha;
	- '-g' altera GID de grupo primário;
	- '-G' adiciona a grupos secundários separados por vírgulas; sem grupos fornecidos, remove os existentes; combinada à '-a', adiciona os grupos secundários que ainda não estiverem configurados;
	- '-l' altera o nome de login;
	- '-L' bloqueia a conta fornecida; uma exclamação é inserida antes da senha criptografada no arquivo '/etc/shadow', desabilitando o acesso do usuário;
	- '-s' altera o shell de login;
	- '-u' altera UID;
	- '-U' remove a exclamação em '/etc/shadow', desbloqueando o usuário.

### userdel
- comando para remover um usuário fornecido na sequência;
- a opção '-r' adiciona recursividade ao comando, removendo o diretório de usuário.

### groupadd
- comando para criar grupos;
- sintaxe de costume: ```# groupadd -g 1090 groupname```, em que a opção '-g' permite especificar o GID.

### groupmod
- comando para modificar grupos;
- sintaxe de costume: ```# groupmod -n web-groupname -g 1050 groupname```;

### groupdel
- comando que remove um grupo fornecido a seguir;
- para remover um grupo, ele não pode ser grupo principal de usuário algum.

### /etc/skel/
- diretório esqueleto para a criação de diretórios pessoais, que pode ser personalizado.

### /etc/login.defs
- arquivo que especifica os parâmetros de configuração que controlam novos usuários e grupos;
- diretivas importantes:
	- UID_MIN e UID_MAX: intervalo de IDs de usuários;
	- GID_MIN e GID_MAX: intervalo de IDs de grupos;
	- CREATE_HOME: especifica se deve-se criar diretório pessoal;
	- USERGROUPS_ENAB: especifica se deve-se criar grupo primário com o mesmo nome para cada usuário e se o grupo deve ser removido com o usuário;
	- MAIL_DIR: diretório de spool de email;
	- PASS_MAX_DAYS: número máximo de dias que uma senha pode ser usada;
	- PASS_MIN_DAYS: número mínimo de dias entre mudanças de senha;
	- PASS_MIN_LEN: comprimento mínimo de senhas;
	- PASS_WARN_AGE: número de dias de aviso antes que uma senha expire.