## 108.1 Maintain System Time
__weight 3__


### date
- comando que exibe a hora e a data, além do fuso horário atual;
- __opções:__
	- '-u' exibe o horário UTC;
	- '-I' formato ISO 8601; pode-se anexar '-Idate', '-Ihours', '-Iminutes', '-Iseconds' ou '-Ins' para refinar o resultado;
	- '-R' formato RFC 5322;
	- '--rfc-3339' formato RFC 3339;
	- '+%s' tempo do Unix, em segundos desde 01/01/1970;
	- '--date='@1564013011'' aplica data com o tempo do Unix;
	- '--debug' seguido de uma data válida, permite solucionar problemas em aplicativos que geram datas;
- definir hora e data com date: ```# date --set="11 Nov 2011 11:11:11"``` ou ```# date +%Y%m%d -s "20111125"```, para data, e ```# date +%T -s "13:11:00"```, para hora; ```# hwclock --systohc``,  para sincronizar o relógio do sistema para o relógio do hardware.

### hwclock
- exibe a hora do relógio do hardware;
- a opção '--verbose' mostra em detalhes;
	- o campo ```Calculated Hardware Clock drift``` informa o sincronismo entre hora de sistema e hora do hardware;
- ```# hwclock --set --date "4/12/2019 11:15:19"``` ajusta o relógio do hardware;
- ```# hwclock --hctosys``` ajusta o relógio do sistema a partir do relógio do hardware.

### timedatectl
- comando systemd que exibe mais detalhes a respeito de hora, data e fuso horário;
- o campo 'RTC time' exibe a hora do relógio do hardware;
	- 'timedatectl set-time 'AAAA-MM-DD HH:MM:SS'' ajusta a hora, como comando preferencial com systemd;
	- 'timedatectl set-ntp no' desativa o NTP: __Network Time Protocol__, hora da rede;
 	- 'timedatectl list-timezones' lista timezones disponíveis;
	- 'timedatectl set-timezone TIME/ZONE' redefine o link simbólico '/etc/localtime'.

### /usr/share/zoneinfo/
- diretório que contém informações sobre diferentes fusos horários possíveis;
- para definir um fuso horário, cria-se um link simbólico em '/etc/localtime', como no exemplo:
 ```$ ln -s /usr/share/zoneinfo/Canada/Eastern /etc/localtime```
 ```# hwclock --systohc```, para sincronizar o relógio do sistema para o relógio do hardware;
- o symlink '/etc/timezone' se define da mesma maneira que '/etc/localtime'.

