## 103.3 File Management
__weight 4__


### file */path/to/file*
- retorna o tipo de um arquivo.

### cd */path/to/directory/*
- muda o diretório corrente;
- __opções:__
    - .. equivale ao diretório pai;
    - ~ equivale ao diretório home do usuário ou /root;
    - - equivale ao diretório anteriormente visitado.

### mv */origin/path /final/path*
- move ou renomeia arquivos e diretórios;
- __opções:__
    - '-i' interactive: pede confirmação para sobrescrever;
    - '-f' force: força sobrescrever;
    - '-v' verbose: mostra o processo.

### cp */origin/pash /final/path*
- copia arquivos e diretórios;
- __opções:__
    - '-i', '-f' e '-v' equivale aos mesmos em 'mv';
    - '-r', '-R' ou '--recursive' copiam inclusive arquivos e subdiretórios de um diretório;
    - '-b' backup: cria uma cópia de segurança dos arquivos que eventualmente sejam substituídos no diretório de destino;
    - '-a', '-d', '-p': preservam as propriedades do arquivo, como data de modificação e permissões.

### mkdir */path/to/directory/*
- cria diretórios;
- __opções:__
    - '-v' equivale ao mesmo em 'mv';
    - '-m' mode: permite definir permissões do novo diretório;
    - '-p' parents ou path: permite criar diretórios pais até o diretório desejado.

### rm *file*
- remove arquivos e diretórios;
- __opções:__
    - '-i', '-f' e '-v' equivale aos mesmos em 'mv';
    - '-R', '-r' incluem arquivos e diretórios filhos à remoção de um diretório.

### rmdir *directory*
- remove diretórios vazios;
	- '-p' remove o diretório com subdiretórios especificados.

### find STARTING_PATH OPTIONS EXPRESSION
- busca arquivos de acordo com opções específicas;
- __opções:__
    - '-name': opção case-sensitive para procurar pelo nome dos arquivos;
    - '-iname': opção para buscar sem case-sensitive;
    - '-type': filtra por tipo:
		- 'f': opção apra arquivos;
		- 'd': opção para diretórios;
        - 'l': opção para links simbólicos;
        - 'b': opção para o tipo block;
    - '-cmin': filtra por arquivos que tiveram status alterado \(chmod):
        - '+3': para alterados há mais de três minutos;
        - '-3': para alterados há menos de três minutos;
    - '-ctime': filtra por arquivos que tiveram status alterado há 'N' * 24h \(N dias);
    - '-amin': arquivos acessados há 'N' minutos;
    - '-atime': arquivos acessados há 'N' * 24h;
    - '-mmin', '-mtime': arquivos criados ou modificados \(modified);
	- '-maxdepth N' define uma profundidade máxima de pesquisa em diretórios;
	- '-size +NM' para filtrar por arquivos maiores que 'N' megabytes, em que 'M' pode ser substituído por 'c' para bytes, 'k' para kilobytes ou 'G' para gigabytes;
	- '-not' retorna o que não corresponde ao critério de busca;
	- '-exec' após o critério de busca permite executar um comando fornecido a seguir com os resultados obtidos;
	- '-delete' exclui os arquivos do resultado da busca.

### tar *options directory*
- arquiva diretórios e seus respectivos conteúdos em pacotes \*.tar;
- __opções para empacotamento:__
    - '-c', '--create' criam o arquivo \*.tar;
    - '-v' verbose para exibir cada arquivo que será incluído;
    - '-p' para preservar as propriedades dos arquivos a serem arquivados;
    - '-f' para especificar o nome do arquivo \*.tar com o que for digitado a seguir;
    - normalmente, todas as opções acima são usadas combinadas em '-cvpf';
    - outro uso comum é a combinação do empacotamento com a compressão:
        - com gzip: '-z' em '-czvf';
        - com bzip2: '-j' em '-cjvf'
    - '-tf' exibe a lista dos arquivos que foram arquivados no pacote especificado;
- __opções para desempacotamento:__
    - '-x', '--extract' opção para desempacotar, normalmente usada na combinação '-xvf', o nome do arquivo \*.tar, '-C' para em seguida especificar o diretório destino;
    - para desempacotar e descompactar: '-xzvf'.

### gzip *file*
- comprime arquivos em arquivos \*.gz;
- __opções:__
    - '-d' para descomprimir com gzip;
    ou usar __gunzip__ sem opções, para descompactar sem precisar de opções;
    - '-c' para comprimir e manter o arquivo original, com a sintaxe:
    ```$ gzip -c file.tar > finalfile.tar.gz```

### bzip2 *file*
- comprime arquivos com compressão maior, em arquivos \*.bz2;
    - usa-se __bunzip2__ para descomprimir;
    - '-k' é a opção que substitui o '-c' do *gzip*.

### xz *file*
- comprime arquivos com maior taxa de compressão dos três, em arquivos \*.xz;
    - usa-se __unxz__ para descomprimir;
    - assim como no *bzip2*, o *xz* mantém o arquivo original com a opção '-k'.

### cpio
- também usado para empacotar e desempacotar arquivos, análogo ao *tar*, podendo gerar pacotes \*.cpio \*.tar.
- sua sintaxe demanda receber o output de comandos como o 'ls', que lista arquivos para serem direcionados para o input do *cpio* com o pipe:
    ```$ ls | cpio -o > arquivo.cpio```
- para extrair os arquivos, usa-se:
    ```$ cpio -id < arquivo.cpio```

### dd
- faz cópias de arquivos byte a byte;
- __sintaxe:__
```
$ dd if=oldfile of=newfile
```
exemplo:
```
$ dd status=progress if=/dev/zero of=image.iso bs=1M count=1024
```
- em que 'if' significa input file;
- 'status=progress' opcional e exibe o andamento do processo, opção sem a qual o comando não exibe coisa agluma até finalizar;
- '/dev/zero' exemplifica o arquivo de entrada usando o arquivo 'zero';
- 'of' significa output file;
- 'bs' para informar a quantidade de bytes por vez; aqui a unidade está especificada em megabytes, mas sem especificação a unidade usada é byte;
- 'count' contando a quantidade de vezes, que aqui resulta num arquivo de 1GB.

como exemplo, pode-se usar esse comando para copiar um hd inteiro, cum sua lista de partições, com a sintaxe:
```
$ dd if=/dev/sda of=hd.mbr bs=4096
```
para restaurar:
```
$ dd if=hd.mbr of=/dev/sda bs=4096
```


## Special Charaters


### __\*__  Asterisk \(Globbing)
- coringa (wildcard) para expansão de nomes de arquivos, atuando na substituição de caracteres.

### __?__  Question Mark
- representa uma única ocorrência de qualquer caractere.

### __\[]__ Square Brackets \(colchetes)
- faz referência a qualquer ocorrência dos caracteres inseridos entre eles.

### __{}__ Curly Braces \(chaves)
- permite criar listas;
    - intervalo de números: {1..10}.